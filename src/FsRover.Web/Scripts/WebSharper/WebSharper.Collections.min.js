(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Collections=b.Collections||{};d=c.BalancedTree=c.BalancedTree||{};e=d.Tree=d.Tree||{};f=c.Pair=c.Pair||{};g=c.MapUtil=c.MapUtil||{};h=c.FSharpMap=c.FSharpMap||{};i=c.Map=c.Map||{};j=c.FSharpSet=c.FSharpSet||{};k=c.Set=c.Set||{};l=c.ListEnumerator=c.ListEnumerator||{};m=c.List=c.List||{};n=c.ResizeArray=c.ResizeArray||{};o=c.LinkedListEnumerator=c.LinkedListEnumerator||{};p=c.LinkedList=c.LinkedList||{};q=b.Grouping=b.Grouping||{};r=b.FsComparer=b.FsComparer||{};s=b.ProjectionComparer=b.ProjectionComparer||{};t=b.CompoundComparer=b.CompoundComparer||{};u=b.ReverseComparer=b.ReverseComparer||{};v=b.OrderedEnumerable=b.OrderedEnumerable||{};w=b.Linq=b.Linq||{};x=b&&b.Arrays;y=b&&b.Seq;z=b&&b.Unchecked;A=b&&b.List;B=a.IntelliFactory;C=B&&B.Runtime;D=b&&b.Enumerator;E=b&&b.Operators;F=c&&c.HashSet;G=c&&c.Dictionary;H=b&&b.Nullable;e.New=function(I,J,K,L,M){return{Node:I,Left:J,Right:K,Height:L,Count:M};};d.TryFind=function(I,J){var K;K=(d.Lookup(I,J))[0];return K==null?null:{$:1,$0:K.Node};};d.Contains=function(I,J){return!((d.Lookup(I,J))[0]==null);};d.Add=function(I,J){return d.Put(function(K,L){return L;},I,J);};d.Remove=function(I,J){var K,L,M,N;K=d.Lookup(I,J);L=K[0];M=K[1];return L==null?J:L.Right==null?d.Rebuild(M,L.Left):L.Left==null?d.Rebuild(M,L.Right):d.Rebuild(M,(N=x.ofSeq(y.append(d.Enumerate(false,L.Left),d.Enumerate(false,L.Right))),d.Build(N,0,N.length-1)));};d.Put=function(I,J,K){var L,M;L=d.Lookup(J,K);M=L[0];return M==null?d.Rebuild(L[1],d.Branch(J,null,null)):d.Rebuild(L[1],d.Branch(I(M.Node,J),M.Left,M.Right));};d.Rebuild=function(I,J){var K,M,N,O,P,Q,R,S,T,U;function L(V){return V==null?0:V.Height;}K=J;for(M=0,N=x.length(I)-1;M<=N;M++){K=(O=x.get(I,M),O[0]?(P=O[1],(Q=O[2],L(K)>L(Q)+1?L(K.Left)===L(K.Right)+1?(R=K.Left,d.Branch(R.Node,d.Branch(P,Q,R.Left),d.Branch(K.Node,R.Right,K.Right))):d.Branch(K.Node,d.Branch(P,Q,K.Left),K.Right):d.Branch(P,Q,K))):(S=O[1],(T=O[2],L(K)>L(T)+1?L(K.Right)===L(K.Left)+1?(U=K.Right,d.Branch(U.Node,d.Branch(K.Node,K.Left,U.Left),d.Branch(S,U.Right,T))):d.Branch(K.Node,K.Left,d.Branch(S,K.Right,T)):d.Branch(S,K,T))));}return K;};d.Lookup=function(I,J){var K,L,M,N;K=[];L=J;M=true;while(M)if(L==null)M=false;else{N=z.Compare(I,L.Node);N===0?M=false:N===1?(K.unshift([true,L.Node,L.Left]),L=L.Right):(K.unshift([false,L.Node,L.Right]),L=L.Left);}return[L,K];};d.OfSeq=function(I){var J;J=x.ofSeq(y.distinct(I));x.sortInPlace(J);return d.Build(J,0,J.length-1);};d.Build=function(I,J,K){var L,M,N;return K-J+1<=0?null:(L=(J+K)/2>>0,(M=d.Build(I,J,L-1),(N=d.Build(I,L+1,K),d.Branch(x.get(I,L),M,N))));};d.Enumerate=function(I,J){function K(L,M){var N;while(true)if(L==null)return M.$==1?{$:1,$0:[M.$0[0],[M.$0[1],M.$1]]}:null;else if(I){N=L;L=N.Right;M=new A.T({$:1,$0:[N.Node,N.Left],$1:M});}else{N=L;L=N.Left;M=new A.T({$:1,$0:[N.Node,N.Right],$1:M});}}return y.unfold(function(L){return K(L[0],L[1]);},[J,A.T.Empty]);};d.Branch=function(I,J,K){var L,M;return e.New(I,J,K,1+(L=J==null?0:J.Height,(M=K==null?0:K.Height,z.Compare(L,M)===1?L:M)),1+(J==null?0:J.Count)+(K==null?0:K.Count));};f=c.Pair=C.Class({Equals:function(I){return z.Equals(this.Key,I.Key);},GetHashCode:function(){return z.Hash(this.Key);},CompareTo0:function(I){return z.Compare(this.Key,I.Key);}},null,f);f.New=function(I,J){return new f({Key:I,Value:J});};g.fromSeq=function(I){var J;J=x.ofSeq(y.delay(function(){return y.collect(function(K){return[f.New(K[0],K[1])];},y.distinctBy(function(K){return K[0];},I));}));x.sortInPlace(J);return d.Build(J,0,J.length-1);};h=c.FSharpMap=C.Class({Equals:function(I){return this.get_Count()===I.get_Count()&&y.forall2(z.Equals,this,I);},GetHashCode:function(){return z.Hash(x.ofSeq(this));},GetEnumerator$1:function(){return D.Get(y.map(function(I){return{K:I.Key,V:I.Value};},d.Enumerate(false,this.tree)));},TryFind:function(I){var J;J=d.TryFind(f.New(I,void 0),this.tree);return J==null?null:{$:1,$0:J.$0.Value};},Remove:function(I){return new h.New$1(d.Remove(f.New(I,void 0),this.tree));},get_Item:function(I){var J;J=this.TryFind(I);return J==null?E.FailWith("The given key was not present in the dictionary."):J.$0;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var I;I=this.tree;return I==null?0:I.Count;},ContainsKey:function(I){return d.Contains(f.New(I,void 0),this.tree);},Add:function(I,J){return new h.New$1(d.Add(f.New(I,J),this.tree));},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();},CompareTo0:function(I){return y.compareWith(z.Compare,this,I);}},b.Obj,h);h.New=C.Ctor(function(I){h.New$1.call(this,g.fromSeq(I));},h);h.New$1=C.Ctor(function(I){this.tree=I;},h);i.Map=function(I,J){return new h.New$1(d.OfSeq(y.map(function(K){return f.New(K.Key,I(K.Key,K.Value));},d.Enumerate(false,J.get_Tree()))));};i.TryPick=function(I,J){return y.tryPick(function(K){return I(K.K,K.V);},J);};i.TryFindKey=function(I,J){return y.tryPick(function(K){return I(K.K,K.V)?{$:1,$0:K.K}:null;},J);};i.TryFind=function(I,J){return J.TryFind(I);};i.ToSeq=function(I){return y.map(function(J){return[J.Key,J.Value];},d.Enumerate(false,I.get_Tree()));};i.Pick=function(I,J){return y.pick(function(K){return I(K.K,K.V);},J);};i.Partition=function(I,J){var K,L,M;K=x.partition(function(N){return I(N.Key,N.Value);},x.ofSeq(d.Enumerate(false,J.get_Tree())));return[new h.New$1((L=K[0],d.Build(L,0,L.length-1))),new h.New$1((M=K[1],d.Build(M,0,M.length-1)))];};i.OfArray=function(I){return new h.New$1(d.OfSeq(y.map(function(J){return f.New(J[0],J[1]);},I)));};i.Iterate=function(I,J){y.iter(function(K){I(K.K,K.V);},J);};i.ForAll=function(I,J){return y.forall(function(K){return I(K.K,K.V);},J);};i.FoldBack=function(I,J,K){return y.fold(function(L,M){return I(M.Key,M.Value,L);},K,d.Enumerate(true,J.get_Tree()));};i.Fold=function(I,J,K){return y.fold(function(L,M){return I(L,M.Key,M.Value);},J,d.Enumerate(false,K.get_Tree()));};i.FindKey=function(I,J){return y.pick(function(K){return I(K.K,K.V)?{$:1,$0:K.K}:null;},J);};i.Filter=function(I,J){var K;return new h.New$1((K=x.ofSeq(y.filter(function(L){return I(L.Key,L.Value);},d.Enumerate(false,J.get_Tree()))),d.Build(K,0,K.length-1)));};i.Exists=function(I,J){return y.exists(function(K){return I(K.K,K.V);},J);};j=c.FSharpSet=C.Class({Equals:function(I){return this.get_Count()===I.get_Count()&&y.forall2(z.Equals,this,I);},GetHashCode:function(){return -1741749453+z.Hash(x.ofSeq(this));},GetEnumerator$1:function(){return D.Get(d.Enumerate(false,this.tree));},Remove:function(I){return new j.New$1(d.Remove(I,this.tree));},get_MinimumElement:function(){return y.head(d.Enumerate(false,this.tree));},get_MaximumElement:function(){return y.head(d.Enumerate(true,this.tree));},IsSupersetOf:function(I){var J;J=this;return y.forall(function(K){return J.Contains(K);},I);},IsSubsetOf:function(I){return y.forall(function(J){return I.Contains(J);},this);},IsProperSupersetOf:function(I){return this.IsSupersetOf(I)&&this.get_Count()>I.get_Count();},IsProperSubsetOf:function(I){return this.IsSubsetOf(I)&&this.get_Count()<I.get_Count();},get_Tree:function(){return this.tree;},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var I;I=this.tree;return I==null?0:I.Count;},Contains:function(I){return d.Contains(I,this.tree);},Add:function(I){return new j.New$1(d.Add(I,this.tree));},sub:function(I){return k.Filter(function(J){return!I.Contains(J);},this);},add:function(I){return new j.New$1(d.OfSeq(y.append(this,I)));},CompareTo0:function(I){return y.compareWith(z.Compare,this,I);},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},b.Obj,j);j.op_Subtraction=function(I,J){return k.Filter(function(K){return!J.Contains(K);},I);};j.op_Addition=function(I,J){return new j.New$1(d.OfSeq(y.append(I,J)));};j.New=C.Ctor(function(I){j.New$1.call(this,d.OfSeq(I));},j);j.New$1=C.Ctor(function(I){this.tree=I;},j);k.Partition=function(I,J){var K;K=x.partition(I,x.ofSeq(J));return[new j.New$1(d.OfSeq(K[0])),new j.New$1(d.OfSeq(K[1]))];};k.FoldBack=function(I,J,K){return y.fold(function(L,M){return I(M,L);},K,d.Enumerate(true,J.get_Tree()));};k.Filter=function(I,J){var K;return new j.New$1((K=x.ofSeq(y.filter(I,J)),d.Build(K,0,K.length-1)));};l=c.ListEnumerator=C.Class({get_Current:function(){return x.get(this.arr,this.i);},MoveNext$1:function(){this.i=this.i+1;return this.i<x.length(this.arr);},Dispose:a.ignore,Current:function(){return x.get(this.arr,this.i);},Reset:function(){E.FailWith("IEnumerator.Reset not supported");},Current0:function(){return x.get(this.arr,this.i);},MoveNext:function(){return this.MoveNext$1();}},b.Obj,l);l.New=C.Ctor(function(I){this.arr=I;this.i=-1;},l);m=c.List=C.Class({ToArray:function(){return this.arr.slice();},Reverse:function(I,J){x.reverse(this.arr,I,J);},Reverse$1:function(){this.arr.reverse();},RemoveRange:function(I,J){n.splice(this.arr,I,J,[]);},RemoveAt:function(I){n.splice(this.arr,I,1,[]);},set_Item:function(I,J){x.set(this.arr,I,J);},get_Item:function(I){return x.get(this.arr,I);},InsertRange:function(I,J){n.splice(this.arr,I,0,x.ofSeq(J));},Insert:function(I,J){n.splice(this.arr,I,0,[J]);},GetRange:function(I,J){return new m.New$3(x.sub(this.arr,I,J));},get_Count:function(){return x.length(this.arr);},CopyTo:function(I,J,K,L){x.blit(this.arr,I,J,K,L);},CopyTo$1:function(I,J){this.CopyTo(0,I,J,this.get_Count());},CopyTo$2:function(I){this.CopyTo$1(I,0);},Clear:function(){n.splice(this.arr,0,x.length(this.arr),[]);},AddRange:function(I){var J;J=this;y.iter(function(K){J.Add(K);},I);},Add:function(I){this.arr.push(I);},GetEnumerator:function(){return D.Get(this.arr);},GetEnumerator0:function(){return D.Get0(this.arr);}},b.Obj,m);m.New=C.Ctor(function(I){m.New$3.call(this,x.ofSeq(I));},m);m.New$1=C.Ctor(function(I){m.New$3.call(this,[]);},m);m.New$2=C.Ctor(function(){m.New$3.call(this,[]);},m);m.New$3=C.Ctor(function(I){this.arr=I;},m);n.splice=function(I,J,K,L){return a.Array.prototype.splice.apply(I,[J,K].concat(L));};o=c.LinkedListEnumerator=C.Class({Reset:a.ignore,Dispose:a.ignore,MoveNext:function(){this.c=this.c.n;return!z.Equals(this.c,null);},Current0:function(){return this.c.v;},Current:function(){return this.c.v;}},b.Obj,o);o.New=C.Ctor(function(I){this.c=I;},o);p=c.LinkedList=C.Class({RemoveLast:function(){this.Remove$1(this.p);},RemoveFirst:function(){this.Remove$1(this.n);},Remove:function(I){var J;J=this.Find(I);return z.Equals(J,null)?false:(this.Remove$1(J),true);},Remove$1:function(I){var J,K;J=I.p;K=I.n;z.Equals(J,null)?this.n=K:J.n=K;z.Equals(K,null)?this.p=J:K.p=J;this.c=this.c-1;},GetEnumerator$1:function(){return new o.New(this);},FindLast:function(I){var J,K;J=this.p;K=true;while(K&&!z.Equals(J,null))if(J.v==I)K=false;else J=J.p;return K?null:J;},Find:function(I){var J,K;J=this.n;K=true;while(K&&!z.Equals(J,null))if(J.v==I)K=false;else J=J.n;return K?null:J;},Contains:function(I){var J,K;J=false;K=this.n;while(!z.Equals(K,null)&&!J)if(K.v==I)J=true;else K=K.n;return J;},Clear:function(){this.c=0;this.n=null;this.p=null;},AddLast:function(I){var J;return this.c===0?(J={p:null,n:null,v:I},(this.n=J,this.p=this.n,this.c=1,J)):this.AddAfter(this.p,I);},AddFirst:function(I){var J;return this.c===0?(J={p:null,n:null,v:I},(this.n=J,this.p=this.n,this.c=1,J)):this.AddBefore(this.n,I);},AddBefore:function(I,J){var K,L;K=I.p;L={p:K,n:I,v:J};z.Equals(I.p,null)?this.n=L:void 0;I.p=L;!z.Equals(K,null)?K.n=L:void 0;this.c=this.c+1;return L;},AddAfter:function(I,J){var K,L;K=I.n;L={p:I,n:K,v:J};z.Equals(I.n,null)?this.p=L:void 0;I.n=L;!z.Equals(K,null)?K.p=L:void 0;this.c=this.c+1;return L;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},b.Obj,p);p.New=C.Ctor(function(){p.New$1.call(this,[]);},p);p.New$1=C.Ctor(function(I){var J,K;this.c=0;this.n=null;this.p=null;J=D.Get(I);J.MoveNext()?(this.n={p:null,n:null,v:J.Current()},this.p=this.n,this.c=1):void 0;while(J.MoveNext()){K={p:this.p,n:null,v:J.Current()};this.p.n=K;this.p=K;this.c=this.c+1;}},p);q=b.Grouping=C.Class({System_Linq_IGrouping_2$get_Key:function(){return this.k;},GetEnumerator0:function(){return D.Get0(this.v);},GetEnumerator:function(){return D.Get(this.v);}},b.Obj,q);q.New=C.Ctor(function(I,J){this.k=I;this.v=J;},q);r=b.FsComparer=C.Class({Compare:function(I,J){return z.Compare(I,J);}},b.Obj,r);r.New=C.Ctor(function(){},r);s=b.ProjectionComparer=C.Class({Compare:function(I,J){return this.primary.Compare(this.projection(I),this.projection(J));}},b.Obj,s);s.New=C.Ctor(function(I,J){this.primary=I;this.projection=J;},s);t=b.CompoundComparer=C.Class({Compare:function(I,J){var K;K=this.primary.Compare(I,J);return K===0?this.secondary.Compare(I,J):K;}},b.Obj,t);t.New=C.Ctor(function(I,J){this.primary=I;this.secondary=J;},t);u=b.ReverseComparer=C.Class({Compare:function(I,J){return this.primary.Compare(this.projection(J),this.projection(I));}},b.Obj,u);u.New=C.Ctor(function(I,J){this.primary=I;this.projection=J;},u);v=b.OrderedEnumerable=C.Class({GetEnumerator0:function(){return D.Get(this);},GetEnumerator:function(){var I,J;I=this;J=x.ofSeq(this.source);x.sortInPlaceWith(function(K,L){return I.primary.Compare(K,L);},J);return D.Get(J);},System_Linq_IOrderedEnumerable_1$CreateOrderedEnumerable:function(I,J,K){return new v.New(this.source,new t.New(this.primary,K?new u.New(J,I):new s.New(J,I)));}},b.Obj,v);v.New=C.Ctor(function(I,J){this.source=I;this.primary=J;},v);w.ElementAtOrDefault=function(I,J,K){try{return y.nth(J,I);}catch(L){return K;}};w.FirstOrDefault=function(I,J){var K;K=D.Get(I);try{return K.MoveNext()?K.Current():J;}finally{if("Dispose"in K)K.Dispose();}};w.FirstOrDefault$1=function(I,J,K){var L;L=y.tryFind(J,I);return L==null?K:L.$0;};w.LastOrDefault=function(I,J,K){var L;L=w.LastPred(I,J);return L==null?K:L.$0;};w.SingleOrDefault=function(I,J,K){var L,M;L=D.Get(I);try{M=null;while(L.MoveNext())if(J(L.Current()))if(M!=null&&M.$==1)E.InvalidOp("Sequence contains more than one element");else M={$:1,$0:L.Current()};return M==null?K:M.$0;}finally{if("Dispose"in L)L.Dispose();}};w.Where=function(I,J){return y.delay(function(){return y.enumUsing(D.Get(I),function(K){var L;L=0;return y.enumWhile(function(){return K.MoveNext();},y.delay(function(){return y.append(J(K.Current(),L)?[K.Current()]:[],y.delay(function(){L=L+1;return[];}));}));});});};w.Union=function(I,J,K){var L,M;L=new F.New(I,K);M=D.Get(J);try{while(M.MoveNext())L.Add(M.Current());}finally{if("Dispose"in M)M.Dispose();}return L;};w.ToDictionary=function(I,J,K,L){var M;M=new G.New$3(L);y.iter(function(N){M.Add(J(N),K(N));},I);return M;};w.ToDictionary$1=function(I,J,K){var L;L=new G.New$3(K);y.iter(function(M){L.Add(J(M),M);},I);return L;};w.TakeWhile=function(I,J){return y.delay(function(){return y.enumUsing(D.Get(I),function(K){return y.enumWhile(function(){return K.MoveNext()&&J(K.Current());},y.delay(function(){return[K.Current()];}));});});};w.TakeWhile$1=function(I,J){return y.delay(function(){return y.enumUsing(D.Get(I),function(K){var L;L=0;return y.enumWhile(function(){return K.MoveNext()&&J(K.Current(),L);},y.delay(function(){L=L+1;return[K.Current()];}));});});};w.Take=function(I,J){return y.delay(function(){return y.enumUsing(D.Get(I),function(K){var L;L=0;return y.enumWhile(function(){return L<J&&K.MoveNext();},y.delay(function(){L=L+1;return[K.Current()];}));});});};w.Sum=function(I){var J;J=y.choose(function(K){return K!=null?{$:1,$0:H.get(K)}:null;},I);return y.isEmpty(J)?null:y.sum(J);};w.SkipWhile=function(I,J){return y.delay(function(){return y.enumUsing(D.Get(I),function(K){var L;L=true;return y.append(y.enumWhile(function(){return L&&K.MoveNext();},y.delay(function(){return!J(K.Current())?(L=false,[]):[];})),y.delay(function(){return!L?y.append([K.Current()],y.delay(function(){return y.enumWhile(function(){return K.MoveNext();},y.delay(function(){return[K.Current()];}));})):[];}));});});};w.SkipWhile$1=function(I,J){return y.delay(function(){return y.enumUsing(D.Get(I),function(K){var L,M;L=0;M=true;return y.append(y.enumWhile(function(){return M&&K.MoveNext();},y.delay(function(){return J(K.Current(),L)?(L=L+1,[]):(M=false,[]);})),y.delay(function(){return!M?y.append([K.Current()],y.delay(function(){return y.enumWhile(function(){return K.MoveNext();},y.delay(function(){return[K.Current()];}));})):[];}));});});};w.Skip=function(I,J){return y.delay(function(){return y.enumUsing(D.Get(I),function(K){var L;L=0;return y.append(y.enumWhile(function(){return L<J&&K.MoveNext();},y.delay(function(){L=L+1;return[];})),y.delay(function(){return y.enumWhile(function(){return K.MoveNext();},y.delay(function(){return[K.Current()];}));}));});});};w.Single=function(I,J){var K;function L(M,N){return J(N)?M!=null?E.InvalidOp("Sequence contains more than one matching element"):{$:1,$0:N}:M;}K=(((C.Curried3(y.fold))(L))(null))(I);return K!=null&&K.$==1?K.$0:E.InvalidOp("Sequence contains no elements");};w.SequenceEqual=function(I,J,K){var L,M,N;L=D.Get(I);try{N=D.Get(I);try{M=function(){while(true)if(L.MoveNext()){if(!(N.MoveNext()&&K.CEquals(L.Current(),N.Current())))return false;}else return!N.MoveNext();}();}finally{if("Dispose"in N)N.Dispose();}return M;}finally{if("Dispose"in L)L.Dispose();}};w.SelectMany=function(I,J,K){function L(M,N){return y.map(function(O){return K(M,O);},N);}return y.collect(function(M){return L(M[0],M[1]);},y.mapi(function(M,N){return[N,J(N,M)];},I));};w.SelectMany$1=function(I,J,K){function L(M,N){return y.map(function(O){return K(M,O);},N);}return y.collect(function(M){return L(M[0],M[1]);},y.map(function(M){return[M,J(M)];},I));};w.SelectMany$2=function(I,J){return y.concat(y.mapi(function(K,L){return J(L,K);},I));};w.Select=function(I,J){return y.mapi(function(K,L){return J(L,K);},I);};w.Reverse=function(I){return x.ofSeq(I).slice().reverse();};w.Repeat=function(I,J){return y.init(J,function(){return I;});};w.Range=function(I,J){return y.init(J,function(K){return I+K;});};w.OrderByDescending=function(I,J,K){return new v.New(I,new u.New(K,J));};w.OrderBy=function(I,J,K){return new v.New(I,new s.New(K,J));};w.Min=function(I){var J;J=y.choose(function(K){return K!=null?{$:1,$0:H.get(K)}:null;},I);return y.isEmpty(J)?null:y.min(J);};w.Max=function(I){var J;J=y.choose(function(K){return K!=null?{$:1,$0:H.get(K)}:null;},I);return y.isEmpty(J)?null:y.max(J);};w.Last=function(I,J){var K;K=w.LastPred(I,J);return K==null?E.InvalidOp("Sequence contains no matching element"):K.$0;};w.LastPred=function(I,J){function K(L,M){return J(M)?{$:1,$0:M}:L;}return(((C.Curried3(y.fold))(K))(null))(I);};w.Join=function(I,J,K,L,M,N){return y.delay(function(){var O,P,Q;O=new G.New$3(N);P=x.ofSeq(y.delay(function(){return y.collect(function(R){var S,T,U;S=K(R);return(T=null,[O.TryGetValue(S,{get:function(){return T;},set:function(V){T=V;}}),T])[0]?[]:(U=[R,new m.New$2()],(O.Add(S,U),[U]));},I);}));Q=D.Get(J);try{while(Q.MoveNext())(function(){var R,S,T;R=Q.Current();S=(T=null,[O.TryGetValue(L(R),{get:function(){return T;},set:function(U){T=U;}}),T]);return S[0]?S[1][1].Add(R):null;}());}finally{if("Dispose"in Q)Q.Dispose();}return x.ofSeq(y.delay(function(){return y.collect(function(R){var S;S=R[0];return y.map(function(T){return M(S,T);},R[1]);},P);}));});};w.Intersect=function(I,J,K){var L;L=new F.New(I,K);return y.delay(function(){var M;M=new F.New$1(K);return y.collect(function(N){return L.Contains(N)&&M.Add(N)?[N]:[];},J);});};w.GroupJoin=function(I,J,K,L,M,N){return y.delay(function(){var O,P,Q;O=new G.New$3(N);P=x.ofSeq(y.delay(function(){return y.collect(function(R){var S,T,U;S=K(R);return(T=null,[O.TryGetValue(S,{get:function(){return T;},set:function(V){T=V;}}),T])[0]?[]:(U=[R,new m.New$2()],(O.Add(S,U),[U]));},I);}));Q=D.Get(J);try{while(Q.MoveNext())(function(){var R,S,T;R=Q.Current();S=(T=null,[O.TryGetValue(L(R),{get:function(){return T;},set:function(U){T=U;}}),T]);return S[0]?S[1][1].Add(R):null;}());}finally{if("Dispose"in Q)Q.Dispose();}x.iteri(function(R,S){return x.set(P,R,M(S[0],S[1]));},P);return P;});};w.GroupBy=function(I,J,K,L,M){return y.map(function(N){return L(N.System_Linq_IGrouping_2$get_Key(),N);},w.GroupBy$1(I,J,K,M));};w.GroupBy$1=function(I,J,K,L){return y.delay(function(){return x.ofSeq(y.delay(function(){var M;M=new G.New$3(L);return y.collect(function(N){var O,P,Q,R,S;O=J(N);P=K(N);Q=(R=null,[M.TryGetValue(O,{get:function(){return R;},set:function(T){R=T;}}),R]);return Q[0]?(Q[1].Add(P),[]):(S=new m.New$2(),(S.Add(P),M.set_Item(O,S),[new q.New(O,S)]));},I);}));});};w.Except=function(I,J,K){var L,M;L=new F.New(I,K);M=D.Get(J);try{while(M.MoveNext())L.Remove(M.Current());}finally{if("Dispose"in M)M.Dispose();}return L;};w.Distinct=function(I,J){return y.delay(function(){return y.enumUsing(D.Get(I),function(K){var L;L=new F.New$1(J);return y.enumWhile(function(){return K.MoveNext();},y.delay(function(){return L.Add(K.Current())?[K.Current()]:[];}));});});};w.DefaultIfEmpty=function(I,J){return y.isEmpty(I)?[J]:I;};w.Average=function(I){var J,K,L,M;J=[];K=D.Get(I);try{while(K.MoveNext()){if(L=K.Current(),L!=null){J.push((M=K.Current(),H.get(M)));}}return x.length(J)===0?null:y.sum(J)/x.length(J);}finally{if("Dispose"in K)K.Dispose();}};}());
